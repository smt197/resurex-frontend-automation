<ng-container *ngIf="!LoadingForm()">
  <div class="w-full min-h-screen bg-pattern flex justify-center p-4 sm:items-center">
    <div @fadeInUp class="w-full max-w-4xl card shadow-2xl overflow-hidden">
      <!-- Layout responsive: desktop = 2 colonnes, mobile = 1 colonne -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-0">
        <!-- Colonne gauche - Descriptif -->
        <div class="order-2 md:order-1 bg-slate-100 flex flex-col justify-center p-6 md:p-8">
          <!-- Logo -->
          <div class="pb-4 flex flex-col items-center justify-center">
            <div class="fill-current text-center" *ngIf="authService.image$ | async as site_logo">
              <img class="w-12" [src]="site_logo" alt="Logo" />
            </div>
          </div>
          <div class="flex flex-col items-center">
            <h1 class="capitalize text-2xl sm:text-3xl font-bold text-slate-800 dark:text-white text-center">
              {{ authService.site_subtitle$ | async }}

            </h1>
            <p class="mt-4 text-base text-slate-600 dark:text-slate-300 leading-normal text-center">
              {{ authService.site_description$ | async }}
            </p>
          </div>
        </div>

        <!-- Colonne droite - Formulaire de login -->
        <div class="order-1 md:order-2 flex flex-col justify-center p-6 md:p-8">
          <ng-container *ngIf="!sucess()">
            <ng-container *ngIf="!isLoading(); else spinner">
              <!-- Titre -->
              <div class="text-center mb-6">
                <h2 class="title m-0 text-xl md:text-2xl" rxTranslate="login.title">Welcome</h2>
                <h4 class="body-2 text-secondary m-0 text-sm md:text-base" rxTranslate="login.subtile">
                  Sign in with your credentials below.
                </h4>
              </div>

              <!-- Formulaire -->
              <div class="flex flex-col gap-4">
                <div class="flex flex-col">
                  <formly-form [form]="loginFormGroup" [fields]="loginfields" [model]="loginModel"></formly-form>
                </div>
                <!-- Bouton de connexion -->
                <button (click)="send()" [disabled]="loginFormGroup.invalid" color="primary" class="w-full"
                  mat-raised-button>
                  <span rxTranslate="login.submit">SIGN IN</span>
                </button>
              </div>
            </ng-container>
            <ng-template #spinner>
              <div class="flex items-center justify-center min-h-[300px]">
                <vex-loading-spinner></vex-loading-spinner>
              </div>
            </ng-template>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<vex-email-not-verified [mailmessage]="mailmessage()" [email]="getEmail()" [LoadingForm]="LoadingForm()"
  [isSuccess]="isSuccess()" [sucess]="sucess()">
</vex-email-not-verified>