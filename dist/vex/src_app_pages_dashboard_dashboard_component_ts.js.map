{"version":3,"file":"src_app_pages_dashboard_dashboard_component_ts.js","mappings":"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","sources":["./src/@vex/components/vex-breadcrumbs/vex-breadcrumb/vex-breadcrumb.component.ts","./src/@vex/components/vex-breadcrumbs/vex-breadcrumbs.component.ts","./src/app/auth/components/loading-spinner/loading-spinner.component.ts","./src/app/auth/components/loading-spinner/loading-spinner.component.html","./src/app/pages/dashboard/dashboard.component.ts","./src/app/pages/dashboard/dashboard.component.html","./src/app/pages/menu-user/menu-user.component.ts","./src/app/pages/menu-user/menu-user.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'vex-breadcrumb',\r\n  template: ` <ng-content></ng-content> `,\r\n  styles: [],\r\n  host: {\r\n    class:\r\n      'vex-breadcrumb body-2 text-hint leading-none hover:text-primary-600 no-underline transition duration-400 ease-out-swift'\r\n  },\r\n  standalone: true\r\n})\r\nexport class VexBreadcrumbComponent {}\r\n","import { Component, Input } from '@angular/core';\r\nimport { trackByValue } from '../../utils/track-by';\r\nimport { VexBreadcrumbComponent } from './vex-breadcrumb/vex-breadcrumb.component';\r\nimport { RouterLink } from '@angular/router';\r\nimport { NgFor } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@Component({\r\n  selector: 'vex-breadcrumbs',\r\n  template: `\r\n    <div class=\"flex items-center gap-2\">\r\n      <vex-breadcrumb>\r\n        <a [routerLink]=\"['/index/dashboard']\">\r\n          <mat-icon svgIcon=\"mat:home\" class=\"icon-sm\"></mat-icon>\r\n        </a>\r\n      </vex-breadcrumb>\r\n      <ng-container *ngFor=\"let crumb of crumbs; trackBy: trackByValue\">\r\n        <div class=\"w-1 h-1 bg-gray-600 rounded-full\"></div>\r\n        <vex-breadcrumb>\r\n          <a [routerLink]=\"['/index', crumb.toLowerCase()]\">{{ crumb }}</a>\r\n        </vex-breadcrumb>\r\n      </ng-container>\r\n    </div>\r\n  `,\r\n  standalone: true,\r\n  imports: [VexBreadcrumbComponent, RouterLink, NgFor, MatIconModule]\r\n})\r\nexport class VexBreadcrumbsComponent {\r\n  @Input() crumbs: string[] = [];\r\n\r\n  trackByValue = trackByValue;\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@Component({\r\n  selector: 'vex-loading-spinner',\r\n  standalone: true,\r\n  imports: [\r\n   MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    SharedModule\r\n  ],\r\n  templateUrl: './loading-spinner.component.html',\r\n  styleUrls: ['../../auth.component.scss']\r\n})\r\nexport class LoadingSpinnerComponent {\r\n\r\n}\r\n","<div class=\"flex flex-col items-center justify-center \">\r\n    <button color=\"primary\" mat-raised-button>\r\n    <span class=\"text-lg \" rxTranslate=\"global.loading\">Please wait...</span>\r\n   \r\n</button>\r\n<mat-progress-spinner mode=\"indeterminate\" class=\"icon-2xl\" color=\"primary\" diameter=\"35\"></mat-progress-spinner>\r\n</div>","import { Component, OnInit, OnDestroy, signal } from '@angular/core';\r\nimport { UntypedFormControl } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { VexBreadcrumbsComponent } from '@vex/components/vex-breadcrumbs/vex-breadcrumbs.component';\r\nimport { VexSecondaryToolbarComponent } from '@vex/components/vex-secondary-toolbar/vex-secondary-toolbar.component';\r\nimport { NgxPermissionsModule, NgxPermissionsService } from 'ngx-permissions';\r\nimport { User } from 'src/app/interfaces/User';\r\nimport { AuthService } from 'src/app/services/auth-service';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { fadeInUp400ms } from '@vex/animations/fade-in-up.animation';\r\nimport { Menu } from 'src/app/interfaces/Menu';\r\nimport { GenericApiService } from 'src/app/services/generic-api.service';\r\nimport { MenuUserComponent } from '../menu-user/menu-user.component';\r\nimport { LoadingSpinnerComponent } from 'src/app/auth/components/loading-spinner/loading-spinner.component';\r\nimport { finalize, tap, Subscription } from 'rxjs';\r\nimport { MenuRealtimeService } from 'src/app/services/menu-realtime.service';\r\nimport { NavigationLoaderService } from 'src/app/core/navigation/navigation-loader.service';\r\nimport { WebsocketService } from 'src/app/services/websocket.service';\r\nimport { ChatService } from '../chat/chat.service';\r\n\r\n@Component({\r\n  selector: 'vex-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrl: './dashboard.component.scss',\r\n  standalone: true,\r\n  animations: [fadeInUp400ms],\r\n  imports: [\r\n    VexSecondaryToolbarComponent,\r\n    VexBreadcrumbsComponent,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    NgxPermissionsModule,\r\n    SharedModule,\r\n    TranslateModule,\r\n    MenuUserComponent,\r\n    LoadingSpinnerComponent\r\n  ]\r\n})\r\nexport class DashboardComponent implements OnInit, OnDestroy {\r\n  layoutCtrl = new UntypedFormControl('fullwidth');\r\n\r\n  user: User | null = null;\r\n  permissionsUser: string[] = [];\r\n  rolesUser: string[] = [];\r\n\r\n  public filteredApps: Menu[] = []; // Menus filtrés\r\n  isLoading = signal<boolean>(false);\r\n  // L'état (state) est aussi une propriété de la classe\r\n  public openApps: string[] = ['finder', 'safari'];\r\n\r\n  private menuUpdateSub!: Subscription;\r\n  public ADMIN = 'admin';\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private genericApi: GenericApiService,\r\n    private route: ActivatedRoute,\r\n    private menuRealtimeService: MenuRealtimeService,\r\n    private navigationLoader: NavigationLoaderService,\r\n    private websocketService: WebsocketService,\r\n    private chatService: ChatService,\r\n    private permissionsService: NgxPermissionsService,\r\n  ) {}\r\n  ngOnInit(): void {\r\n    this.getUserInfo();\r\n    this.loadMenusFromResolver();\r\n    this.initMenuUpdatesListener();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.menuUpdateSub) {\r\n      this.menuUpdateSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  getUserInfo() {\r\n    this.user = this.authService.user;\r\n    this.permissionsUser = this.authService.getAllPermission();\r\n    this.rolesUser = this.authService.getRolesNames();\r\n  }\r\n\r\n  users() {\r\n    this.router.navigate(['/index/user']);\r\n  }\r\n\r\n  loadMenusFromResolver(): void {\r\n    const menusData = this.route.snapshot.data['menusData'];\r\n\r\n    if (menusData && menusData.data && Array.isArray(menusData.data)) {\r\n      const menus = menusData.data as Menu[];\r\n      this.filterAppsByRole(menus);\r\n\r\n      // Also update navigation with resolver data using reloadMenusOnly to preserve badges\r\n      const unreadCount$ = this.websocketService.unreadCountNotificationSubject;\r\n      const chatUnreadCount$ = this.chatService.totalChatUnreadCount$;\r\n      this.navigationLoader.reloadMenusOnly(\r\n        this.rolesUser,\r\n        unreadCount$,\r\n        chatUnreadCount$\r\n      );\r\n    } else {\r\n      console.warn('Aucune donnée de menu trouvée dans le resolver');\r\n      this.filteredApps = [];\r\n    }\r\n  }\r\n\r\n  loadMenusByRole(): void {\r\n    // this.isLoading.set(true);\r\n    this.genericApi\r\n      .getAlls<Menu>('user-menus')\r\n      .pipe(\r\n        tap((response) => {\r\n          if (response && response.data && Array.isArray(response.data)) {\r\n            this.filterAppsByRole(response.data as Menu[]);\r\n          } else {\r\n            console.warn('Format de réponse inattendu:', response);\r\n            this.filteredApps = [];\r\n          }\r\n        })\r\n      )\r\n      .subscribe({\r\n        error: (error) => {\r\n          console.error('Erreur lors du chargement des menus:', error);\r\n          this.filteredApps = [];\r\n        }\r\n      });\r\n  }\r\n  // Traite les menus reçus (déjà filtrés par rôle côté backend)\r\n  filterAppsByRole(menus: Menu[]): void {\r\n    this.filteredApps = menus.map((menu) => ({\r\n      ...menu,\r\n      icon: menu.icon.startsWith('mat:') ? menu.icon : 'mat:' + menu.icon,\r\n      disable: menu.disable\r\n    }));\r\n  }\r\n\r\n  appClick(menu: Menu): void {\r\n    this.router.navigate([menu.route], { queryParams: menu.queryParams });\r\n  }\r\n\r\n  private initMenuUpdatesListener(): void {\r\n    this.menuUpdateSub = this.menuRealtimeService.getMenuUpdates().subscribe({\r\n      next: () => {\r\n        this.loadMenusByRole();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error listening for menu updates in dashboard:', error);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<vex-secondary-toolbar [current]=\"'menu.dashboards' | translate\">\r\n  <vex-breadcrumbs [crumbs]=\"['menu.dashboards' | translate, 'menu.home' | translate]\"\r\n    class=\"flex-auto\"></vex-breadcrumbs>\r\n\r\n  <button class=\"ml-2\" color=\"primary\" mat-icon-button type=\"button\">\r\n    <mat-icon svgIcon=\"mat:more_vert\"></mat-icon>\r\n  </button>\r\n</vex-secondary-toolbar>\r\n\r\n<div class=\"\r\n    min-h-screen\r\n    bg-black/5\r\n      backdrop-blur-lg \r\n    \">\r\n  <div class=\"flex flex-col items-center justify-center\">\r\n    @if (isLoading()) {\r\n    <vex-loading-spinner></vex-loading-spinner>\r\n    } @else {\r\n    <vex-menu-user [apps]=\"filteredApps\" (appClick)=\"appClick($event)\"></vex-menu-user>\r\n    }\r\n  </div>","import { CommonModule } from '@angular/common';\r\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { fadeInUp400ms } from '@vex/animations/fade-in-up.animation';\r\nimport { stagger40ms } from '@vex/animations/stagger.animation';\r\nimport { Menu } from 'src/app/interfaces/Menu';\r\n\r\n@Component({\r\n  selector: 'vex-menu-user',\r\n  standalone: true,\r\n  templateUrl: './menu-user.component.html',\r\n  styleUrl: './menu-user.component.scss',\r\n    imports: [CommonModule, MatTooltipModule, MatIconModule,TranslateModule],\r\n  animations: [fadeInUp400ms, stagger40ms],\r\n\r\n})\r\nexport class MenuUserComponent {\r\n  @Input() apps: Menu[] = [];\r\n  @Input() openApps: string[] = [];\r\n  @Output() appClick = new EventEmitter<Menu>(); // Émettre l'objet complet\r\n\r\n  // Grouper les menus par blocs de 4\r\n  get groupedMenus(): Menu[][] {\r\n    const groups: Menu[][] = [];\r\n    for (let i = 0; i < this.apps.length; i += 5) {\r\n      groups.push(this.apps.slice(i, i + 5));\r\n    }\r\n    return groups;\r\n  }\r\n\r\n  onAppClick(app: Menu): void {\r\n    // Ne pas permettre le clic si le menu est désactivé (disable === 0)\r\n    if (app.disable === 1) {\r\n      this.appClick.emit(app);\r\n    }\r\n  }\r\n}\r\n","<div class=\"mt-4 w-full p-6 space-y-8\">\r\n  @for (group of groupedMenus; track $index; let isFirst = $first) {\r\n  <div @stagger class=\"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5\">\r\n    @for (app of group; track app.id || app.slug) {\r\n    <div @fadeInUp class=\"relative flex flex-col items-center group transition-all duration-300\" [ngClass]=\"{\r\n               'cursor-pointer hover:scale-105': app.disable === 1,\r\n               'cursor-not-allowed opacity-50 blur-sm': app.disable === 0\r\n             }\" (click)=\"onAppClick(app)\"\r\n      [matTooltip]=\"app.disable === 0 ? ('menu.disabled' | translate) : ('menu.' + app.name | translate)\"\r\n      matTooltipPosition=\"below\">\r\n\r\n      <!-- Carte du menu -->\r\n      <div\r\n        class=\"card w-28 h-28 flex items-center justify-center rounded-2xl shadow-xl shadow-black/10 transition-all duration-300\"\r\n        [ngClass]=\"{\r\n                 'hover:shadow-2xl hover:shadow-black/20': app.disable === 1,\r\n                 'grayscale': app.disable === 0\r\n               }\" [style.background-color]=\"app.disable === 0 ? '#9ca3af' : app.color\">\r\n        <mat-icon [svgIcon]=\"app.icon\" [ngClass]=\"{\r\n                        'text-white': app.disable === 1,\r\n                        'text-gray-400': app.disable === 0\r\n                      }\" class=\"w-20 h-20\"></mat-icon>\r\n      </div>\r\n\r\n      <!-- Le nom de l'application -->\r\n      <span class=\"mt-3 text-base text-center font-medium transition-colors duration-300 max-w-full truncate\" [ngClass]=\"{\r\n                  'text-secondary group-hover:text-primary': app.disable === 1,\r\n                  'text-gray-400': app.disable === 0\r\n                }\">\r\n        {{ 'menu.' + app.name | translate }}\r\n      </span>\r\n    </div>\r\n    }\r\n  </div>\r\n\r\n  <!-- Séparateur entre les groupes -->\r\n  @if (!$last) {\r\n  <hr class=\"border-divider opacity-30\">\r\n  }\r\n  }\r\n</div>"],"names":["VexBreadcrumbComponent","selectors","hostAttrs","standalone","features","i0","ɵɵStandaloneFeature","ngContentSelectors","_c0","decls","vars","template","VexBreadcrumbComponent_Template","rf","ctx","ɵɵprojection","trackByValue","RouterLink","NgFor","MatIconModule","ɵɵelementContainerStart","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","crumb_r1","toLowerCase","ɵɵtextInterpolate","VexBreadcrumbsComponent","constructor","crumbs","inputs","consts","VexBreadcrumbsComponent_Template","ɵɵtemplate","VexBreadcrumbsComponent_ng_container_4_Template","ɵɵpureFunction0","_c1","i1","MatIcon","encapsulation","MatProgressBarModule","MatProgressSpinnerModule","SharedModule","LoadingSpinnerComponent","LoadingSpinnerComponent_Template","MatProgressSpinner","i2","default","styles","signal","UntypedFormControl","MatButtonModule","TranslateModule","VexSecondaryToolbarComponent","NgxPermissionsModule","fadeInUp400ms","MenuUserComponent","tap","ɵɵlistener","DashboardComponent_Conditional_10_Template_vex_menu_user_appClick_0_listener","$event","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","appClick","ctx_r1","filteredApps","DashboardComponent","authService","router","genericApi","route","menuRealtimeService","navigationLoader","websocketService","chatService","permissionsService","layoutCtrl","user","permissionsUser","rolesUser","isLoading","openApps","ADMIN","ngOnInit","getUserInfo","loadMenusFromResolver","initMenuUpdatesListener","ngOnDestroy","menuUpdateSub","unsubscribe","getAllPermission","getRolesNames","users","navigate","menusData","snapshot","data","Array","isArray","menus","filterAppsByRole","unreadCount$","unreadCountNotificationSubject","chatUnreadCount$","totalChatUnreadCount$","reloadMenusOnly","console","warn","loadMenusByRole","getAlls","pipe","response","subscribe","error","map","menu","icon","startsWith","disable","queryParams","getMenuUpdates","next","ɵɵdirectiveInject","AuthService","Router","i3","GenericApiService","ActivatedRoute","i4","MenuRealtimeService","i5","NavigationLoaderService","i6","WebsocketService","i7","ChatService","i8","NgxPermissionsService","DashboardComponent_Template","DashboardComponent_Conditional_9_Template","DashboardComponent_Conditional_10_Template","ɵɵpipeBind1","ɵɵpureFunction2","ɵɵconditional","i9","MatIconButton","i10","i11","TranslatePipe","animation","CommonModule","EventEmitter","MatTooltipModule","stagger40ms","MenuUserComponent_For_2_For_2_Template_div_click_0_listener","restoredCtx","_r14","app_r8","$implicit","ctx_r13","onAppClick","undefined","name","ɵɵstyleProp","color","_c2","_c3","_c4","ɵɵtextInterpolate1","ɵɵrepeaterCreate","MenuUserComponent_For_2_For_2_Template","_forTrack0","MenuUserComponent_For_2_Conditional_3_Template","ɵɵrepeater","group_r1","$index_r2","$count_r4","apps","groupedMenus","groups","i","length","push","slice","app","emit","outputs","MenuUserComponent_Template","MenuUserComponent_For_2_Template","ɵɵrepeaterTrackByIndex","NgClass","MatTooltip"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}