{"version":3,"file":"src_app_pages_manage-notifications_all-notifications_all-notifications_component_ts.js","mappings":"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","sources":["./src/@vex/animations/fade-in-right.animation.ts","./src/@vex/animations/scale-fade-in.animation.ts","./src/@vex/animations/scale-in.animation.ts","./src/app/pages/manage-notifications/all-notifications/all-notifications.component.ts","./src/app/pages/manage-notifications/all-notifications/all-notifications.component.html","./src/app/pages/manage-notifications/all-notifications/card-notification/card-notification.component.ts","./src/app/pages/manage-notifications/all-notifications/card-notification/card-notification.component.html"],"sourcesContent":["import { animate, style, transition, trigger } from '@angular/animations';\r\n\r\nexport function fadeInRightAnimation(duration: number) {\r\n  return trigger('fadeInRight', [\r\n    transition(':enter', [\r\n      style({\r\n        transform: 'translateX(-20px)',\r\n        opacity: 0\r\n      }),\r\n      animate(\r\n        `${duration}ms cubic-bezier(0.35, 0, 0.25, 1)`,\r\n        style({\r\n          transform: 'translateX(0)',\r\n          opacity: 1\r\n        })\r\n      )\r\n    ])\r\n  ]);\r\n}\r\n\r\nexport const fadeInRight400ms = fadeInRightAnimation(400);\r\n","import { animate, style, transition, trigger } from '@angular/animations';\r\n\r\nexport function scaleFadeInAnimation(duration: number) {\r\n  return trigger('scaleFadeIn', [\r\n    transition(':enter', [\r\n      style({\r\n        transform: 'scale(0.8)',\r\n        opacity: 0\r\n      }),\r\n      animate(\r\n        `${duration}ms cubic-bezier(0.35, 0, 0.25, 1)`,\r\n        style({\r\n          transform: 'scale(1)',\r\n          opacity: 1\r\n        })\r\n      )\r\n    ])\r\n  ]);\r\n}\r\n\r\nexport const scaleFadeIn400ms = scaleFadeInAnimation(400);\r\n","import { animate, style, transition, trigger } from '@angular/animations';\r\n\r\nexport function scaleInAnimation(duration: number) {\r\n  return trigger('scaleIn', [\r\n    transition(':enter', [\r\n      style({\r\n        transform: 'scale(0)'\r\n      }),\r\n      animate(\r\n        `${duration}ms cubic-bezier(0.35, 0, 0.25, 1)`,\r\n        style({\r\n          transform: 'scale(1)'\r\n        })\r\n      )\r\n    ])\r\n  ]);\r\n}\r\n\r\nexport const scaleIn400ms = scaleInAnimation(400);\r\n","import { NgFor, NgIf, AsyncPipe, DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { RouterLinkActive, RouterLink, ActivatedRoute } from '@angular/router';\r\nimport { fadeInRight400ms } from '@vex/animations/fade-in-right.animation';\r\nimport { fadeInUp400ms } from '@vex/animations/fade-in-up.animation';\r\nimport { scaleFadeIn400ms } from '@vex/animations/scale-fade-in.animation';\r\nimport { scaleIn400ms } from '@vex/animations/scale-in.animation';\r\nimport { stagger40ms } from '@vex/animations/stagger.animation';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport {\r\n  BehaviorSubject,\r\n  catchError,\r\n  map,\r\n  Observable,\r\n  of,\r\n  Subject,\r\n  switchMap,\r\n  takeUntil,\r\n  tap\r\n} from 'rxjs';\r\nimport { trackById } from '@vex/utils/track-by';\r\nimport { Link } from '@vex/interfaces/link.interface';\r\nimport { UntypedFormControl } from '@angular/forms';\r\nimport { NotificationParams, Notifications } from 'src/app/interfaces/Notifications';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatPaginatorModule, PageEvent } from '@angular/material/paginator';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { PageHeaderComponent } from '../../components/shared/page-header/page-header.component';\r\nimport { AuthService } from 'src/app/services/auth-service';\r\nimport { WebsocketService } from 'src/app/services/websocket.service';\r\nimport { CardNotificationComponent } from './card-notification/card-notification.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@Component({\r\n  selector: 'vex-all-notifications',\r\n  templateUrl: './all-notifications.component.html',\r\n  styleUrl: './all-notifications.component.scss',\r\n  animations: [\r\n    scaleIn400ms,\r\n    fadeInRight400ms,\r\n    stagger40ms,\r\n    fadeInUp400ms,\r\n    scaleFadeIn400ms\r\n  ],\r\n  standalone: true,\r\n  imports: [\r\n    MatIconModule,\r\n    MatTabsModule,\r\n    NgFor,\r\n    RouterLinkActive,\r\n    RouterLink,\r\n    MatButtonModule,\r\n    MatTooltipModule,\r\n    NgIf,\r\n    AsyncPipe,\r\n    MatDividerModule,\r\n    MatListModule,\r\n    MatProgressSpinnerModule,\r\n    DatePipe,\r\n    CardNotificationComponent,\r\n    MatPaginatorModule,\r\n    PageHeaderComponent,\r\n    SharedModule,\r\n    TranslateModule\r\n  ]\r\n})\r\nexport class AllNotificationsComponent implements OnInit, OnDestroy {\r\n  title: string | undefined = '';\r\n  activeCategory: string = 'all';\r\n  pagination = {\r\n    current_page: 1,\r\n    per_page: 10,\r\n    total: 0\r\n  };\r\n\r\n  // Ce BehaviorSubject est le déclencheur pour charger les données\r\n  private paginationSubject = new BehaviorSubject<NotificationParams>({\r\n    page: 1,\r\n    unreadOnly: true\r\n  });\r\n\r\n  private destroy$ = new Subject<void>();\r\n  \r\n  unreadCount: number = 0;\r\n  isLoading: boolean = false;\r\n\r\n  links: Link[] = [\r\n    {\r\n      label: 'notification_onglet.non_lues', \r\n      route: '../all'\r\n    },\r\n    {\r\n      label: 'notification_onglet.histories', \r\n      route: '../histories'\r\n    }\r\n  ];\r\n\r\n  // AMÉLIORATION : notifications$ devient le flux principal de données\r\n  // Il écoute les changements de pagination/onglet, lance l'appel API et retourne les données.\r\n  notifications$: Observable<Notifications[]>;\r\n\r\n  trackById = trackById;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private websocketService: WebsocketService,\r\n    private authService: AuthService,\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n    // On initialise l'observable dans le constructeur.\r\n    this.notifications$ = this.paginationSubject.pipe(\r\n      tap(() => this.isLoading = true), // 1. Activer le spinner\r\n      switchMap(params =>   \r\n        // 2. Lancer l'appel API. switchMap annule les requêtes précédentes.\r\n        this.websocketService.loadNotifications(params.page, params.unreadOnly).pipe(\r\n          catchError(error => {\r\n            console.error('Erreur lors du chargement des notifications', error);\r\n            // En cas d'erreur, on arrête le chargement et on retourne un tableau vide.\r\n            this.isLoading = false; \r\n            return of({ data: [], meta: { total: 0, current_page: 1, per_page: 5, unreadnotificationcount: 0 }, message: 'Erreur de chargement' });\r\n          })\r\n        )\r\n      ),\r\n      tap(response => {\r\n        // 3. Mettre à jour les \"effets de bord\" : pagination, titre, etc.\r\n        this.pagination.total = response.meta.total;\r\n        this.pagination.current_page = response.meta.current_page;\r\n        this.pagination.per_page = response.meta.per_page;\r\n        this.unreadCount = response.meta.unreadnotificationcount;\r\n        this.title = response.message;\r\n        this.isLoading = false; // 4. Arrêter le spinner\r\n        this.cd.detectChanges(); // Forcer la détection de changement si nécessaire\r\n      }),\r\n      map(response => response.data) // 5. Finalement, on ne retourne que le tableau de données pour le template.\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.handleRouteChange();\r\n    this.setupWebSocket(); // Assurez-vous que cette méthode est appelée\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  onPageChange(event: PageEvent) {\r\n    // Pas besoin de mettre isLoading ici, le stream notifications$ le gère\r\n    this.pagination.current_page = event.pageIndex + 1;\r\n    this.pagination.per_page = event.pageSize;\r\n    const unreadOnly = this.activeCategory === 'all';\r\n    \r\n    // Déclencher le rechargement en publiant les nouveaux paramètres\r\n    this.paginationSubject.next({\r\n      page: this.pagination.current_page,\r\n      unreadOnly\r\n    });\r\n  }\r\n\r\n  private handleRouteChange() {\r\n    this.route.paramMap.pipe(takeUntil(this.destroy$)).subscribe((paramMap) => {\r\n      this.activeCategory = paramMap.get('activeCategory') || 'all';\r\n      const unreadOnly = this.activeCategory === 'all';\r\n\r\n      // Reset la pagination et déclenche le chargement initial pour cet onglet\r\n      this.pagination.current_page = 1;\r\n\r\n      this.paginationSubject.next({\r\n        page: this.pagination.current_page,\r\n        unreadOnly\r\n      });\r\n    });\r\n  }\r\n\r\n  private setupWebSocket() {\r\n    const userId = this.authService.user?.id;\r\n    if (userId) {\r\n      this.websocketService.listenPrivateWebsocket(\r\n        '.new.user.notification',\r\n        `user.${userId}`,\r\n        () => this.refreshData() // On rafraîchit les données actuelles\r\n      );\r\n\r\n      this.websocketService.unreadCountNotification$\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe((count) => {\r\n          this.unreadCount = count;\r\n          this.cd.detectChanges();\r\n        });\r\n    }\r\n  }\r\n\r\n  markAsRead(notification: Notifications) {\r\n    this.websocketService.markAsRead(notification.id).subscribe({\r\n      next: () => {\r\n        this.refreshData(); // On rafraîchit pour mettre à jour la liste et le compteur\r\n      },\r\n      error: (err) => console.error('Erreur lors du marquage comme lue', err)\r\n    });\r\n  }\r\n  \r\n  // Fonction utilitaire pour rafraîchir les données de la vue actuelle\r\n  private refreshData() {\r\n    this.paginationSubject.next(this.paginationSubject.value);\r\n  }\r\n\r\n  getNotificationIcon(isRead: boolean): string {\r\n    return isRead ? 'mat:notifications_none' : 'mat:notifications_active';\r\n  }\r\n\r\n  getNotificationColor(isRead: boolean): string {\r\n    return isRead ? 'text-gray-400' : 'text-primary-600';\r\n  }\r\n}","<!-- <vex-page-header\r\n  [title]=\"title\"\r\n  [breadcrumbs]=\"['Dashboard', 'Notifications']\"\r\n  [layoutControl]=\"layoutCtrl\">\r\n</vex-page-header> -->\r\n\r\n<div class=\"h-full flex flex-col min-h-0\">\r\n  <!-- Header Section -->\r\n  <div class=\"flex-shrink-0 p-6 pb-0 bg-foreground shadow-b border-b\">\r\n    <div class=\"container px-0\">\r\n      <h2 class=\"display-1 font-bold mt-0 mb-4 flex items-center\">\r\n        <span\r\n          @scaleIn\r\n          class=\"w-12 h-12 rounded-full text-primary-600 ltr:mr-4 rtl:ml-4 flex items-center justify-center bg-primary-600/10\">\r\n          <mat-icon svgIcon=\"mat:notifications\"></mat-icon>\r\n        </span>\r\n        <span @fadeInRight class=\"block\">{{ title }}</span>\r\n      </h2>\r\n\r\n      <div class=\"flex items-center\">\r\n        <nav [tabPanel]=\"tabPanel\" class=\"border-0 flex-auto\" mat-tab-nav-bar>\r\n          <a\r\n            #rla=\"routerLinkActive\"\r\n            *ngFor=\"let link of links\"\r\n            [active]=\"rla.isActive\"\r\n            [disabled]=\"link.disabled || isLoading\"\r\n            [routerLink]=\"link.route\"\r\n            mat-tab-link\r\n            routerLinkActive=\"\">\r\n            {{ link.label | translate }}\r\n          </a>\r\n        </nav>\r\n        <mat-tab-nav-panel #tabPanel></mat-tab-nav-panel>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Main Content Body (Relative for spinner positioning) -->\r\n  <div class=\"relative flex-1 min-h-0 flex flex-col\">\r\n    <!-- Spinner Overlay -->\r\n    <div\r\n      *ngIf=\"isLoading\"\r\n      class=\"absolute inset-0 flex items-center justify-center z-10 bg-white bg-opacity-75\">\r\n      <mat-spinner diameter=\"50\"></mat-spinner>\r\n    </div>\r\n\r\n    <div\r\n      class=\"flex-1 min-h-0 flex flex-col\"\r\n      [class.opacity-0]=\"isLoading\"\r\n      [class.invisible]=\"isLoading\">\r\n      <ng-container *ngIf=\"notifications$ | async as notifications\">\r\n        <!-- Scrollable Content Area -->\r\n        <div class=\"flex-1 min-h-0 overflow-y-auto\">\r\n          <div class=\"p-6\">\r\n            <div\r\n              *ngIf=\"notifications.length > 0; else noNotifications\"\r\n              @stagger\r\n              class=\"container px-0 mx-auto space-y-4\">\r\n              <vex-card-notification\r\n                @fadeInUp\r\n                *ngFor=\"\r\n                  let notification of notifications;\r\n                  trackBy: trackById\r\n                \"\r\n                [notification]=\"notification\"\r\n                (markAsRead)=\"markAsRead(notification)\">\r\n              </vex-card-notification>\r\n            </div>\r\n\r\n            <!-- \"No Notifications\" Template -->\r\n            <ng-template #noNotifications>\r\n              <div\r\n                @scaleFadeIn\r\n                class=\"min-h-[400px] flex flex-col items-center justify-center\">\r\n                <img\r\n                  class=\"m-12 h-64\"\r\n                  src=\"assets/img/illustrations/idea.svg\" />\r\n                <h2 class=\"headline m-0 text-center\">{{ 'notifications.no_notifications' | translate }}</h2>\r\n              </div>\r\n            </ng-template>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Pagination (Stays at the bottom) -->\r\n        <div class=\"flex-shrink-0 border-t bg-white\">\r\n          <mat-paginator\r\n            [length]=\"pagination.total\"\r\n            [pageIndex]=\"pagination.current_page - 1\"\r\n            [pageSize]=\"pagination.per_page\"\r\n            (page)=\"onPageChange($event)\"\r\n            aria-label=\"Sélectionner une page\">\r\n          </mat-paginator>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { DatePipe } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'vex-card-notification',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    DatePipe,\r\n    TranslateModule\r\n  ],\r\n  templateUrl: './card-notification.component.html',\r\n  styleUrl: './card-notification.component.scss'\r\n})\r\nexport class CardNotificationComponent {\r\n  @Input() notification: any;\r\n  @Input() showMarkAsRead: boolean = true;\r\n  @Output() markAsRead = new EventEmitter<void>();\r\n\r\n  onMarkAsRead() {\r\n    this.notification.is_read = true;\r\n    this.markAsRead.emit();\r\n  }\r\n\r\n  getNotificationIcon(isRead: boolean): string {\r\n    return isRead ? 'mat:notifications_none' : 'mat:notifications_active';\r\n  }\r\n\r\n  getNotificationColor(isRead: boolean): string {\r\n    return isRead ? 'text-gray-400' : 'text-primary-600';\r\n  }\r\n}\r\n","<a  (click)=\"onMarkAsRead(); $event.stopPropagation()\" class=\"cursor-pointer\">\r\n  <div\r\n    class=\"  backdrop-blur-3xl bg-white/30 card overflow-hidden mt-4 shadow-2xl p-4 rounded-lg border-[0.5px] border-transparent hover:border-primary-500 transition-all duration-200 w-full mb-2\">\r\n    \r\n    <div class=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 w-full\">\r\n      \r\n      <div class=\"flex-1 min-w-0\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <!-- Icône -->\r\n          <mat-icon\r\n            [svgIcon]=\"getNotificationIcon(notification.is_read)\"\r\n            [class]=\"getNotificationColor(notification.is_read)\"\r\n            class=\"mt-4 flex-shrink-0 w-5 h-5\">\r\n          </mat-icon>\r\n          \r\n          <!-- Contenu texte -->\r\n          <div class=\"flex-1 min-w-0\">\r\n            <h3 class=\" capitalize font-semibold text-gray-900 truncate mb-1\">\r\n              {{ 'notifications.title' | translate }}\r\n            </h3>\r\n            <p class=\"text-gray-800 text-sm font-light leading-relaxed break-words\">\r\n              {{ notification.data.message }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"flex-shrink-0 sm:ml-4\">\r\n        <p class=\"font-light text-gray-800 text-sm whitespace-nowrap sm:text-right\">\r\n          {{ notification.created_at | date: \"medium\" }}\r\n        </p>\r\n      </div>\r\n      \r\n    </div>\r\n  </div>\r\n</a>"],"names":["animate","style","transition","trigger","fadeInRightAnimation","duration","transform","opacity","fadeInRight400ms","scaleFadeInAnimation","scaleFadeIn400ms","scaleInAnimation","scaleIn400ms","NgFor","NgIf","AsyncPipe","MatButtonModule","MatIconModule","MatTooltipModule","RouterLinkActive","RouterLink","fadeInUp400ms","stagger40ms","MatTabsModule","BehaviorSubject","catchError","map","of","Subject","switchMap","takeUntil","tap","trackById","MatDividerModule","MatListModule","MatPaginatorModule","MatProgressSpinnerModule","CardNotificationComponent","TranslateModule","SharedModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","_r5","isActive","link_r4","disabled","ctx_r0","isLoading","route","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","label","ɵɵelement","ɵɵlistener","AllNotificationsComponent_ng_container_16_div_3_vex_card_notification_1_Template_vex_card_notification_markAsRead_0_listener","restoredCtx","ɵɵrestoreView","_r13","notification_r11","$implicit","ctx_r12","ɵɵnextContext","ɵɵresetView","markAsRead","undefined","ɵɵtemplate","AllNotificationsComponent_ng_container_16_div_3_vex_card_notification_1_Template","notifications_r6","ctx_r7","ɵɵtextInterpolate","ɵɵelementContainerStart","AllNotificationsComponent_ng_container_16_div_3_Template","AllNotificationsComponent_ng_container_16_ng_template_4_Template","ɵɵtemplateRefExtractor","AllNotificationsComponent_ng_container_16_Template_mat_paginator_page_7_listener","$event","_r16","ctx_r15","onPageChange","ɵɵelementContainerEnd","length","_r9","ctx_r3","pagination","total","current_page","per_page","AllNotificationsComponent","constructor","websocketService","authService","cd","title","activeCategory","paginationSubject","page","unreadOnly","destroy$","unreadCount","links","notifications$","pipe","params","loadNotifications","error","console","data","meta","unreadnotificationcount","message","response","detectChanges","ngOnInit","handleRouteChange","setupWebSocket","ngOnDestroy","next","complete","event","pageIndex","pageSize","paramMap","subscribe","get","userId","user","id","listenPrivateWebsocket","refreshData","unreadCountNotification$","count","notification","err","value","getNotificationIcon","isRead","getNotificationColor","ɵɵdirectiveInject","i1","ActivatedRoute","i2","WebsocketService","i3","AuthService","ChangeDetectorRef","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","AllNotificationsComponent_Template","rf","ctx","AllNotificationsComponent_a_10_Template","AllNotificationsComponent_div_14_Template","AllNotificationsComponent_ng_container_16_Template","_r1","ɵɵclassProp","i4","MatIcon","i5","MatTabNav","MatTabNavPanel","MatTabLink","i6","MatProgressSpinner","i7","MatPaginator","i8","TranslatePipe","styles","animation","EventEmitter","CommonModule","showMarkAsRead","onMarkAsRead","is_read","emit","inputs","outputs","CardNotificationComponent_Template","CardNotificationComponent_Template_a_click_0_listener","stopPropagation","ɵɵclassMap","ɵɵpipeBind2","created_at","DatePipe"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}