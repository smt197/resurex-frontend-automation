{"version":3,"file":"src_app_pages_users_users_component_ts.js","mappings":"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","sources":["./src/app/pages/users/confirm-block-dialog/confirm-block-dialog.component.ts","./src/app/pages/users/confirm-block-dialog/confirm-block-dialog.component.html","./src/app/pages/users/delete-element/delete-element.component.ts","./src/app/pages/users/delete-element/delete-element.component.html","./src/app/pages/users/user-create-update/user-create-update.component.ts","./src/app/pages/users/user-create-update/user-create-update.component.html","./src/app/pages/users/user-show/user-show.component.ts","./src/app/pages/users/user-show/user-show.component.html","./src/app/pages/users/users.component.ts","./src/app/pages/users/users.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport {\r\n  MAT_DIALOG_DATA,\r\n  MatDialogModule,\r\n  MatDialogRef\r\n} from '@angular/material/dialog';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TranslationModule } from 'src/app/shared/language/translation.module';\r\n\r\n@Component({\r\n  selector: 'vex-confirm-block-dialog',\r\n  standalone: true,\r\n  imports: [\r\n    MatDialogModule,\r\n    TranslationModule,\r\n    MatDividerModule,\r\n    MatIconModule,\r\n    MatButtonModule \r\n  ],\r\n  templateUrl: './confirm-block-dialog.component.html',\r\n  styleUrls: ['./confirm-block-dialog.component.scss']\r\n})\r\nexport class ConfirmBlockDialogComponent {\r\n  constructor(\r\n    public dialogRef: MatDialogRef<ConfirmBlockDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: { isBlocked: boolean}\r\n  ) {}\r\n}\r\n","<div class=\"container p-6\">\r\n    <!-- Header -->\r\n    <div class=\"flex items-start justify-between\" mat-dialog-title>\r\n        <div class=\"flex items-start justify-start gap-2\">\r\n            <mat-icon color=\"warn\" svgIcon=\"mat:lock\"></mat-icon>\r\n            <h2 class=\"headline m-0 flex-auto\">\r\n                {{ data.isBlocked ? ('menu_action.unblock' | translate) : ('menu_action.block' | translate) }}\r\n            </h2>\r\n        </div>\r\n    </div>\r\n\r\n    <mat-divider class=\"text-border\"></mat-divider>\r\n\r\n    <!-- Content -->\r\n    <mat-dialog-content class=\"flex flex-col items-start justify-start space-y-2\">\r\n        <p class=\"text-lg text-red-500 font-medium\">\r\n            {{ data.isBlocked\r\n            ? ('user.block_confirm' | translate)\r\n            : ('user.unblock_confirm' | translate) }}\r\n        </p>\r\n    </mat-dialog-content>\r\n\r\n    <!-- Actions -->\r\n    <mat-dialog-actions align=\"end\" class=\"space-x-2\">\r\n        <button mat-stroked-button mat-dialog-close=\"false\" color=\"default\" type=\"button\">\r\n            {{ 'user.cancel' | translate }}\r\n        </button>\r\n        <button mat-flat-button color=\"primary\" type=\"submit\" [mat-dialog-close]=\"true\">\r\n            {{ data.isBlocked ? ('user.unblock' | translate) : ('user.block' | translate) }}\r\n        </button>\r\n    </mat-dialog-actions>\r\n</div>","import { NgIf } from '@angular/common';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MAT_DIALOG_DATA, MatDialogModule, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { User } from 'src/app/models/user.model';\r\n\r\n@Component({\r\n  selector: 'vex-delete-element',\r\n  templateUrl: './delete-element.component.html',\r\n  styleUrl: './delete-element.component.scss',\r\n  standalone: true,\r\n  imports: [\r\n    MatDialogModule,\r\n    NgIf,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatDividerModule,\r\n  ]\r\n})\r\nexport class DeleteElementComponent {\r\n  \r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public defaults: User | User[],\r\n    private dialogRef: MatDialogRef<DeleteElementComponent>,\r\n  ) {}\r\n\r\n  send() {\r\n    this.dialogRef.close(this.defaults);\r\n  }\r\n\r\n  isSingleUser(): boolean {\r\n    return !Array.isArray(this.defaults);\r\n  }\r\n\r\n  getSingleUserName(): string {\r\n    if (this.isSingleUser()) {\r\n      const user = this.defaults as User;\r\n      return `${user.first_name} ${user.last_name}`;\r\n    }\r\n    const users = this.defaults as User[];\r\n    return users.length+'';\r\n  }\r\n}","<div class=\"container p-6\">\r\n    <div class=\"flex items-start justify-between\" mat-dialog-title>\r\n        <div class=\"flex items-start justify-start gap-2\">\r\n            <mat-icon color=\"warn\" svgIcon=\"mat:delete\"></mat-icon>\r\n            <h2 class=\"headline m-0 flex-auto\">\r\n                Delete Object\r\n            </h2>\r\n        </div>\r\n    </div>\r\n\r\n    <mat-divider class=\"text-border\"></mat-divider>\r\n\r\n    <mat-dialog-content class=\"flex flex-col items-start justify-start space-y-2\">\r\n        <!-- Affichage des informations de l'utilisateur -->\r\n        <ng-container *ngIf=\"isSingleUser(); else userList\">\r\n        <p class=\"text-lg text-red-500 font-medium\">Are you sure you want to delete?</p>\r\n            <p class=\"text-lg font-semibold\">\r\n                USER: {{ getSingleUserName() }}\r\n            </p>\r\n        </ng-container>  \r\n        <!-- Affichage pour un tableau d'utilisateurs -->\r\n        <ng-template #userList>\r\n        <p class=\"text-lg text-red-500 font-medium\">Are you sure you want to delete all users?</p>\r\n            <p class=\"text-lg font-semibold\">\r\n                NUMBERS: {{ getSingleUserName() }}\r\n            </p>\r\n        </ng-template>\r\n    </mat-dialog-content>\r\n\r\n    <mat-dialog-actions align=\"end\">\r\n        <button mat-button mat-dialog-close type=\"button\">Cancel</button>\r\n        <button color=\"primary\" mat-flat-button type=\"submit\" (click)=\"send()\">\r\n            Delete\r\n        </button>\r\n    </mat-dialog-actions>\r\n</div>","import { NgIf } from '@angular/common';\nimport { Component, Inject, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport {\n  MatDialogRef,\n  MAT_DIALOG_DATA,\n  MatDialogModule\n} from '@angular/material/dialog';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyMatCheckboxModule } from '@ngx-formly/material/checkbox';\nimport { FormlyMatInputModule } from '@ngx-formly/material/input';\n\nimport { userFormlyFields } from 'src/app/models/user.model';\nimport { Roles } from 'src/app/interfaces/Roles';\nimport { FormlyMatSelectModule } from '@ngx-formly/material/select';\nimport { Permissions } from 'src/app/interfaces/Permissions';\nimport { UpdateData, User, UserCreateModel, UserCreateUpdateModel, UserUpdateModel } from 'src/app/interfaces/User';\nimport { getUserFormlyFields } from 'src/app/models/user.model';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { FormUtilsService } from 'src/app/services/FormUtilsService';\nimport {FormlyMatDatepickerModule} from '@ngx-formly/material/datepicker';\nimport { MatMomentDateModule } from '@angular/material-moment-adapter';\nimport moment from 'moment';\nimport { DateAdapter } from '@angular/material/core';\nimport { LanguageService } from 'src/app/services/language.service';\nimport { GenericApiService } from 'src/app/services/generic-api.service';\nimport { forkJoin } from 'rxjs';\n\n@Component({\n  selector: 'vex-user-create-update',\n  templateUrl: './user-create-update.component.html',\n  styleUrls: ['./user-create-update.component.scss'],\n  standalone: true,\n  imports: [\n    MatButtonToggleModule,\n    NgIf,\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatDialogModule,\n    MatInputModule,\n    FormlyModule,\n    FormlyMatInputModule,\n    FormlyMatCheckboxModule,\n    MatDividerModule,\n    MatProgressSpinnerModule,\n    FormlyMatSelectModule,\n    SharedModule,\n    TranslateModule,\n    FormlyMatDatepickerModule,\n    MatMomentDateModule,\n  ]\n})\nexport class UserCreateUpdateComponent implements OnInit {\n  imageView: string | File | null = null;\n  private _cachedImageUrl: string | null = null;\n  private _lastPhotoRef: File | string | null = null;\n  tempImageUrl: string | null = null;\n  form = new FormGroup({});\n  model: UserCreateUpdateModel = {\n    first_name: '',\n    last_name: '',\n    email: '',\n    phone: '',\n    roles: [],\n    available_countries: {},\n    birthday: null,\n    permissions: [],\n    photo: null,\n    is_blocked: false,\n    otp_enabled: false\n  };\n  fields: FormlyFieldConfig[] = [];\n\n\n  // fields: FormlyFieldConfig[] = getUserFormlyFields(this.translate);\n  mode: 'create' | 'update' = 'create';\n  \n  // Map pour stocker les rôles par nom pour un accès rapide\n  private rolesMap: Map<string, Roles> = new Map();\n  private permissionsMap: Map<string, Permissions> = new Map();\n\n  constructor(\n\n    @Inject(MAT_DIALOG_DATA) public defaults: UpdateData,\n    private dialogRef: MatDialogRef<UserCreateUpdateComponent>,\n    private translate: TranslateService,\n        private formUtils: FormUtilsService, // Service externe injecté\n    private languageService: LanguageService,\n    private genericApi: GenericApiService\n\n  ) {}\n\n  ngOnInit() {\n    this.mode = this.init();\n    \n    // Enfin, initialiser le modèle après avoir configuré les champs\n    forkJoin({\n      roles: this.genericApi.getAll('roles', 1, 100),\n      permissions: this.genericApi.getAll('permissions', 1, 100)\n    }).subscribe(({ roles, permissions }) => {\n      if (roles && permissions) {\n        this.defaults.roles = roles.data as Roles[];\n        this.defaults.permissions = permissions.data as Permissions[];\n        this.formUtils.configureSelectFields(this.fields, this.defaults);\n        if (this.mode === 'update') {\n          this.updateMode();\n        } else {\n          this.mode = 'create';\n          this.clearImageCache();\n        }\n      } else {\n        console.error('Failed to load roles or permissions.');\n      }\n    });\n  }\n\n  init(): 'create' | 'update' {\n         // Initialiser d'abord les champs de formulaire\n    this.fields = [...getUserFormlyFields(this.translate)]; \n    if (this.defaults && this.defaults.roles) {\n      this.formUtils.configureSelectFields(this.fields, this.defaults);\n    }\n    let mymode = this.defaults as UpdateData;\n    return mymode.mode;\n  }\n\n  updateMode() {\n    let myuser = this.defaults as UpdateData;\n    let userRoles = myuser.roles as Roles[];\n    let userPermissions= myuser.permissions as Permissions[];\n\n    \n    // Récupérer les rôles précédemment sélectionnés pour l'utilisateur\n    let selectedRoles: Roles[] = [];\n    \n    // Si user.roles existe et contient des données\n    if (this.defaults.user?.roles && Array.isArray(this.defaults.user.roles)) {\n      // Filtrer pour trouver les objets Roles correspondants aux rôles de l'utilisateur\n      selectedRoles = userRoles.filter(role => \n        this.defaults.user?.roles?.some(userRole => \n          typeof userRole === 'object' && 'name' in userRole && userRole.name === role.name\n        )\n      );\n    }\n    \n    let selectedPermissions: Permissions[] = [];\n    if (this.defaults.user?.permissions && Array.isArray(this.defaults.user.permissions)) {\n      selectedPermissions = userPermissions.filter(role => \n        this.defaults.user?.permissions?.some(userPermissions => \n          typeof userPermissions === 'object' && 'name' in userPermissions && userPermissions.name === role.name\n        )\n      );\n    }\n    this.model = {\n      first_name: this.defaults.user?.first_name ?? '',\n      last_name: this.defaults.user?.last_name ?? '',\n      email: this.defaults.user?.email ?? '',\n      phone: this.defaults.user?.phone ?? '',\n      available_countries: this.defaults.user?.available_countries,\n      birthday: this.defaults.user?.birthday \n  ? this.languageService.parseDate(String(this.defaults.user.birthday))\n  : null, \n      roles: selectedRoles, // Utiliser le tableau d'objets Roles\n      permissions: selectedPermissions, // Utiliser le tableau d'objets Permissions\n      photo: this.defaults.user?.photo ?? '',\n      is_blocked: this.defaults.user?.is_blocked ?? false,\n      otp_enabled: this.defaults.user?.otp_enabled ?? false\n    };    \n  }\n \n  \n  /**\n   * Crée une URL temporaire pour afficher une image sélectionnée localement\n   * @param fileInput - L'élément input de type file ou l'événement de changement\n   * @returns Promise avec l'URL temporaire de l'image\n   */\n  getLocalImagePath(photo: File | string | null): string {\n    // Si la photo est null ou undefined, retourner une image par défaut\n    if (!photo) {\n      return 'assets/img/avatars/default-user.png';\n    }\n\n    // Si c'est une instance de File, créer une URL temporaire\n    if (photo instanceof File) {\n      // Si une URL temporaire existe déjà pour ce fichier, la révoquer\n      if (this.tempImageUrl) {\n        URL.revokeObjectURL(this.tempImageUrl);\n      }\n\n      // Créer et stocker la nouvelle URL temporaire\n      this.tempImageUrl = URL.createObjectURL(photo);\n\n      return this.tempImageUrl;\n    }\n\n    // Si c'est déjà une chaîne (URL), la retourner directement\n    return photo;\n  }\n  get imageUrl(): string {\n    // Si la photo a changé, on nettoie l'ancien cache\n    if (this._lastPhotoRef !== this.model.photo) {\n      this.clearImageCache();\n      this._lastPhotoRef = this.model.photo;\n    }\n\n    if (!this._cachedImageUrl) {\n      if (this.model.photo instanceof File) {\n        this._cachedImageUrl = URL.createObjectURL(this.model.photo);\n      } else if (typeof this.model.photo === 'string' && this.model.photo) {\n        this._cachedImageUrl = this.model.photo;\n      } else {\n        this._cachedImageUrl = 'assets/img/avatars/noavatar.png';\n      }\n    }\n\n    return this._cachedImageUrl;\n  }\n\n  private clearImageCache() {\n    if (this._cachedImageUrl && this._cachedImageUrl.startsWith('blob:')) {\n      URL.revokeObjectURL(this._cachedImageUrl);\n    }\n    this._cachedImageUrl = null;\n  }\n\n  save() {\n    if (this.mode === 'create') {\n      this.createCustomer();\n    } else if (this.mode === 'update') {\n      this.updateCustomer();\n    }\n  }\n  createCustomer() {\n    // Si nécessaire, assurez-vous que la photo est bien traitée\n    if (this.model.photo instanceof File) {\n      this.getLocalImagePath(this.model.photo);\n    }\n    const user: UserCreateModel = {\n      tempUrl: this.tempImageUrl ?? '',\n      model: {\n        ...this.model\n      }\n    };\n    this.dialogRef.close(user);\n  }\n\n  updateCustomer() {\n    if (!this.model) {\n      console.error('Model is undefined!');\n      return;\n    }\n\n    // Si nécessaire, assurez-vous que la photo est bien traitée\n    if (this.model.photo instanceof File) {\n      this.getLocalImagePath(this.model.photo);\n    }\n    let defaultsUser = this.defaults as UpdateData;\n\n    if (defaultsUser.user) {\n      const user: UserUpdateModel = {\n        slug: defaultsUser.user.slug,\n        model: this.model,\n        tempUrl: this.tempImageUrl ?? ''\n      };\n      this.dialogRef.close(user);\n    }\n  }\n  cancel() {\n    this.dialogRef.close(null);\n  }\n\n  isCreateMode() {\n    return this.mode === 'create';\n  }\n\n  isUpdateMode() {\n    return this.mode === 'update';\n  }\n}","<div class=\"flex flex-col h-full\">\r\n  <!-- Header avec titre et boutons -->\r\n  <div class=\"flex items-center\" mat-dialog-title>\r\n    <div *ngIf=\"imageUrl\">\r\n      <img [src]=\"imageUrl\" class=\"avatar mr-5\" />\r\n    </div>\r\n\r\n    <h2\r\n      *ngIf=\"model.first_name || model.last_name\"\r\n      class=\"headline m-0 flex-auto\">\r\n      {{ model.first_name }} {{ model.last_name }}\r\n    </h2>\r\n\r\n    <h2 *ngIf=\"!model.first_name && !model.last_name\" class=\"headline m-0 flex-auto\" rxTranslate=\"user.user_create\">\r\n\r\n      New User\r\n    </h2>\r\n    <button\r\n      class=\"text-secondary\"\r\n      mat-dialog-close\r\n      mat-icon-button\r\n      type=\"button\">\r\n      <mat-icon svgIcon=\"mat:close\"></mat-icon>\r\n    </button>\r\n  </div>\r\n\r\n  <mat-divider class=\"text-border\"></mat-divider>\r\n\r\n  <!-- Formulaire -->\r\n  <mat-dialog-content class=\"w-full\">\r\n    <formly-form [form]=\"form\" [model]=\"model\" [fields]=\"fields\"></formly-form>\r\n  </mat-dialog-content>\r\n\r\n    <mat-dialog-actions align=\"end\">\r\n      <button mat-button mat-dialog-close type=\"button\" rxTranslate=\"user.cancel\">Cancel</button>\r\n      <button\r\n      [disabled]=\"form.invalid\"\r\n        *ngIf=\"isCreateMode() || isUpdateMode()\"\r\n        (click)=\"save()\"\r\n        color=\"primary\"\r\n        mat-flat-button>\r\n        <span class=\"capitalize\">{{ mode }} <span rxTranslate=\"user.select\"> user </span></span>\r\n      </button>\r\n    </mat-dialog-actions>\r\n\r\n</div>\r\n","import { NgFor, NgIf } from '@angular/common';\r\nimport { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormGroup, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport {\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n  MatDialogModule\r\n} from '@angular/material/dialog';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { Permissions } from 'src/app/interfaces/Permissions';\r\nimport { Roles } from 'src/app/interfaces/Roles';\r\nimport { User } from 'src/app/interfaces/User';\r\n\r\n@Component({\r\n  selector: 'vex-user-show',\r\n  templateUrl: './user-show.component.html',\r\n  styleUrls: ['./user-show.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    NgIf,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatMenuModule,\r\n    MatDialogModule,\r\n    MatDividerModule\r\n  ]\r\n})\r\nexport class UserShowComponent {\r\n  private _cachedImageUrl: string | null = null;\r\n  private _lastPhotoRef: File | string | null = null;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public defaults: User,\r\n    private dialogRef: MatDialogRef<UserShowComponent>\r\n  ) {}\r\n\r\n  get imageUrl(): string {\r\n    // Si la photo a changé, on nettoie l'ancien cache\r\n    if (this._lastPhotoRef !== this.defaults.photo) {\r\n      this.clearImageCache();\r\n      this._lastPhotoRef = this.defaults.photo || '';\r\n    }\r\n\r\n    if (!this._cachedImageUrl) {\r\n      if (this.defaults.photo instanceof File) {\r\n        this._cachedImageUrl = URL.createObjectURL(this.defaults.photo);\r\n      } else if (\r\n        typeof this.defaults.photo === 'string' &&\r\n        this.defaults.photo\r\n      ) {\r\n        this._cachedImageUrl = this.defaults.photo;\r\n      } else {\r\n        this._cachedImageUrl = 'assets/img/avatars/noavatar.png';\r\n      }\r\n    }\r\n\r\n    return this._cachedImageUrl;\r\n  }\r\n\r\n  private clearImageCache() {\r\n    if (this._cachedImageUrl && this._cachedImageUrl.startsWith('blob:')) {\r\n      URL.revokeObjectURL(this._cachedImageUrl);\r\n    }\r\n    this._cachedImageUrl = null;\r\n  }\r\n\r\n  cancel() {\r\n    this.dialogRef.close(null);\r\n  }\r\n\r\n  // fonction pour parcourir et afficher le name des roles du user\r\n  getRolesNames(roles: Roles[]): string {\r\n    return roles\r\n      .map((role) => (typeof role === 'string' ? role : role.display_name))\r\n      .join(', ');\r\n  }\r\n  getPermissionsNames(permissions: Permissions[]): string {\r\n    return permissions\r\n      .map((permission) =>\r\n        typeof permission === 'string' ? permission : permission.display_name\r\n      )\r\n      .join(', ');\r\n  }\r\n}\r\n","<div class=\"flex flex-col gap-4 w-full h-full\">\r\n  <div class=\"flex items-center justify-end\">\r\n    <button\r\n      class=\"text-secondary\"\r\n      mat-dialog-close\r\n      mat-icon-button\r\n      type=\"button\">\r\n      <mat-icon svgIcon=\"mat:close\"></mat-icon>\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"imageUrl\" class=\"mx-auto\">\r\n    <img [src]=\"imageUrl\" class=\"rounded-full w-36 h-36 mr-5\" />\r\n  </div>\r\n  <div class=\"text-center space-y-2\" mat-dialog-title>\r\n    <h1\r\n      *ngIf=\"defaults.first_name || defaults.last_name\"\r\n      class=\"text-xl font-extrabold text-gray-800 tracking-tight capitalize\">\r\n      {{ defaults.first_name }} {{ defaults.last_name }}\r\n    </h1>\r\n  </div>\r\n  <div class=\"text-start space-y-2\" mat-dialog-content>\r\n    <div class=\"flex items-start gap-2 text-primary-400\">\r\n      <mat-icon class=\"icon-xl\" svgIcon=\"mat:person\"></mat-icon>\r\n      <ng-container *ngIf=\"defaults.roles && defaults.roles.length > 0\">\r\n        <span\r\n          class=\"inline-flex items-center rounded-full bg-primary-100 text-primary-500 px-3 py-1 text-sm font-semibold\">\r\n          {{ getRolesNames(defaults.roles) }}\r\n        </span>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"!defaults.roles || defaults.roles.length === 0\">\r\n        <span class=\"text-gray-400 italic\">No roles</span>\r\n      </ng-container>\r\n    </div>\r\n    <div class=\"flex items-start gap-2 text-primary-400\">\r\n      <mat-icon class=\"icon-xl\" svgIcon=\"mat:security\"></mat-icon>\r\n      <ng-container\r\n        *ngIf=\"defaults.permissions && defaults.permissions.length > 0\">\r\n        <span\r\n          class=\"inline-flex items-center rounded-full bg-primary-100 text-primary-500 px-3 py-1 text-sm font-semibold\">\r\n          {{ getPermissionsNames(defaults.permissions) }}\r\n        </span>\r\n      </ng-container>\r\n      <ng-container\r\n        *ngIf=\"!defaults.permissions || defaults.permissions.length === 0\">\r\n        <span class=\"text-gray-400 italic\">No permissions</span>\r\n      </ng-container>\r\n    </div>\r\n    <div class=\"flex items-start gap-2 text-primary-500\">\r\n      <mat-icon class=\"icon-xl\" svgIcon=\"mat:email\"></mat-icon>\r\n      <span class=\"text-lg font-medium text-gray-500 mt-1\">\r\n        {{ defaults.email }}</span\r\n      >\r\n    </div>\r\n  </div>\r\n\r\n  <mat-divider class=\"text-border\"></mat-divider>\r\n\r\n  <!-- Formulaire -->\r\n\r\n  <mat-dialog-actions align=\"end\">\r\n    <button mat-button mat-dialog-close type=\"button\">\r\n      <span class=\"text-lg font-medium\">close</span>\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\nimport { GenericResourceListComponent } from 'src/app/shared/generic-resource-list/generic-resource-list.component';\r\nimport { ActionEvent } from 'src/app/shared/dynamic-data-table/Dynamic-Table-Interface';\r\n\r\nimport { User, userFormlyFields } from 'src/app/models/user.model';\r\nimport { UserCreateUpdateComponent } from './user-create-update/user-create-update.component';\r\nimport { UserShowComponent } from './user-show/user-show.component';\r\nimport { DeleteElementComponent } from './delete-element/delete-element.component';\r\nimport { WebsocketService } from 'src/app/services/websocket.service';\r\nimport { ResourceService } from 'src/app/shared/generic-resource-list/generic-method-interface';\r\nimport { GenericApiService } from 'src/app/services/generic-api.service';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { UserCreateUpdateModel, UserUpdateModel } from 'src/app/interfaces/User';\r\nimport { Utils } from 'src/app/classes/Utils';\r\nimport { ConfirmBlockDialogComponent } from './confirm-block-dialog/confirm-block-dialog.component';\r\nimport { FormDataBuilderService } from 'src/app/services/form-data-builder.service';\r\n\r\n// Constants\r\nconst SNACKBAR_DURATION = 3000;\r\n\r\n@Component({\r\n  selector: 'vex-users',\r\n  standalone: true,\r\n  imports: [CommonModule, GenericResourceListComponent, TranslateModule],\r\n  templateUrl: './users.component.html'\r\n})\r\nexport class UsersComponent {\r\n  type = 'users';\r\n  dataService: ResourceService<User>;\r\n  formlyFields = userFormlyFields;\r\n\r\n  // On récupère une référence au composant générique pour pouvoir le rafraîchir\r\n  @ViewChild(GenericResourceListComponent)\r\n  resourceList!: GenericResourceListComponent<User>;\r\n\r\n  constructor(\r\n    private readonly genericApi: GenericApiService,\r\n    private readonly dialog: MatDialog,\r\n    private readonly snackbar: MatSnackBar,\r\n    private readonly formDataBuilder: FormDataBuilderService,\r\n    public readonly websocketService: WebsocketService\r\n  ) {\r\n    this.dataService = Utils.createDataService<User>(\r\n      this.type,\r\n      this.genericApi\r\n    );\r\n  }\r\n\r\n  // C'est ici que la magie opère : on gère toutes les actions spécifiques\r\n  handleAction(event: ActionEvent<User>) {\r\n    switch (event.action) {\r\n      case 'create':\r\n        this.openCreateUserDialog();\r\n        break;\r\n      case 'edit':\r\n        if (event.row) {\r\n          this.openUpdateUserDialog(event.row);\r\n        }\r\n        break;\r\n      case 'delete':\r\n        if (event.row) {\r\n          this.openDeleteUserDialog(event.row);\r\n        }\r\n        break;\r\n      case 'show':\r\n        if (event.row) {\r\n          this.openShowUserDialog(event.row);\r\n        }\r\n        break;\r\n      case 'deleteAll':\r\n        if (event.rows) {\r\n          this.openDeleteAllUsersDialog(event.rows);\r\n        }\r\n        break;\r\n      case 'block':\r\n        if (event.row) {\r\n          this.blockUser(event.row);\r\n        }\r\n        break;\r\n      case 'unblock':\r\n        if (event.row) {\r\n          this.unblockUser(event.row);\r\n        }\r\n        break;\r\n      case 'toggle-block':\r\n        if (event.row) {\r\n          this.confirmToggleBlockUser(event.row);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  openCreateUserDialog() {\r\n    const dialogData = {\r\n      mode: 'create'\r\n    };\r\n\r\n    this.dialog\r\n      .open(UserCreateUpdateComponent, { data: dialogData, width: '650px' })\r\n      .afterClosed()\r\n      .subscribe((result) => {\r\n        if (result && result.model) {\r\n          const formData = this.formDataBuilder.createUserFormData(result.model);\r\n\r\n          this.genericApi.create<User>(this.type, formData).subscribe((res) => {\r\n            if (res) {\r\n              this.snackbar.open(\r\n                res.message ?? 'User created successfully!',\r\n                'OK',\r\n                { duration: SNACKBAR_DURATION }\r\n              );\r\n              this.resourceList.refresh();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  openUpdateUserDialog(user: User) {\r\n    const dialogData = {\r\n      mode: 'update',\r\n      user: user\r\n    };\r\n\r\n    this.dialog\r\n      .open(UserCreateUpdateComponent, { data: dialogData, width: '650px' })\r\n      .afterClosed()\r\n      .subscribe((updatedCustomer: UserUpdateModel) => {\r\n        if (updatedCustomer && updatedCustomer.model) {\r\n          const userIndex = this.resourceList.data.findIndex(\r\n            (u) => u.slug === user.slug\r\n          );\r\n          if (userIndex === -1) {\r\n            return;\r\n          }\r\n\r\n          const originalUser = this.resourceList.data[userIndex];\r\n          const optimisticUser = {\r\n            ...originalUser,\r\n            ...updatedCustomer.model\r\n          } as User;\r\n\r\n          if (updatedCustomer.model.photo instanceof File) {\r\n            optimisticUser.photo = URL.createObjectURL(updatedCustomer.model.photo);\r\n          }\r\n          if (updatedCustomer.model.birthday) {\r\n            optimisticUser.birthday = this.formDataBuilder.formatDateForLaravel(\r\n              updatedCustomer.model.birthday\r\n            );\r\n          }\r\n\r\n          const currentData = [...this.resourceList.data];\r\n          currentData[userIndex] = optimisticUser;\r\n          this.resourceList.data = currentData;\r\n\r\n          const formData = this.formDataBuilder.createUserFormData(updatedCustomer.model);\r\n          this.genericApi\r\n            .update<User>(this.type, user.slug, formData)\r\n            .subscribe({\r\n              next: (res) => {\r\n                if (res && res.data && !Array.isArray(res.data)) {\r\n                  const updatedUserFromServer = res.data as User;\r\n                  if (updatedCustomer.model.photo instanceof File) {\r\n                    updatedUserFromServer.photo = optimisticUser.photo;\r\n                  }\r\n                  const currentData = [...this.resourceList.data];\r\n                  currentData[userIndex] = updatedUserFromServer;\r\n                  this.resourceList.data = currentData;\r\n                  this.snackbar.open(\r\n                    res.message ?? 'User updated successfully!',\r\n                    'OK',\r\n                    { duration: SNACKBAR_DURATION }\r\n                  );\r\n                } else {\r\n                  const currentData = [...this.resourceList.data];\r\n                  currentData[userIndex] = originalUser;\r\n                  this.resourceList.data = currentData;\r\n                  this.snackbar.open('An unexpected error occurred.', 'OK', {\r\n                    duration: SNACKBAR_DURATION\r\n                  });\r\n                }\r\n              },\r\n              error: (err) => {\r\n                const currentData = [...this.resourceList.data];\r\n                currentData[userIndex] = originalUser;\r\n                this.resourceList.data = currentData;\r\n                this.snackbar.open(\r\n                  'Error updating user. Please try again.',\r\n                  'OK',\r\n                  { duration: SNACKBAR_DURATION }\r\n                );\r\n              }\r\n            });\r\n        }\r\n      });\r\n  }\r\n\r\n  openDeleteUserDialog(user: User) {\r\n    this.dialog\r\n      .open(DeleteElementComponent, { data: user, width: '600px' })\r\n      .afterClosed()\r\n      .subscribe((confirmed) => {\r\n        if (confirmed) {\r\n          // Optimistic update: remove the user from the local list immediately\r\n          const originalData = [...this.resourceList.data]; // Save original data for rollback\r\n          this.resourceList.data = this.resourceList.data.filter(\r\n            (u) => u.slug !== user.slug\r\n          );\r\n\r\n          this.genericApi.delete(this.type, user.slug).subscribe({\r\n            next: (res) => {\r\n              if (res) {\r\n                this.snackbar.open(res.message ?? '', 'OK', { duration: SNACKBAR_DURATION });\r\n              }\r\n            },\r\n            error: (err) => {\r\n              this.resourceList.data = originalData;\r\n              this.snackbar.open(\r\n                'Error deleting user. Please try again.',\r\n                'OK',\r\n                { duration: SNACKBAR_DURATION }\r\n              );\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  openShowUserDialog(user: User) {\r\n    this.dialog.open(UserShowComponent, { data: user, width: '650px' });\r\n  }\r\n\r\n  openDeleteAllUsersDialog(users: User[]) {\r\n    this.dialog\r\n      .open(DeleteElementComponent, { data: users, width: '600px' })\r\n      .afterClosed()\r\n      .subscribe((confirmed) => {\r\n        if (confirmed) {\r\n          const slugs = users.map((user) => user.slug);\r\n\r\n          this.genericApi.deleteAll(this.type, slugs).subscribe((res) => {\r\n            if (res) {\r\n              this.snackbar.open(res.message ?? '', 'OK', { duration: SNACKBAR_DURATION });\r\n              this.resourceList.refresh();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Helper method to update user block status in the list\r\n   */\r\n  private updateUserBlockStatus(user: User, isBlocked: boolean): void {\r\n    const userIndex = this.resourceList.data.findIndex(\r\n      (u) => u.slug === user.slug\r\n    );\r\n\r\n    if (userIndex !== -1) {\r\n      const currentData = [...this.resourceList.data];\r\n      const currentUser = currentData[userIndex];\r\n\r\n      // Create a new User instance to preserve the name getter\r\n      currentData[userIndex] = new User({\r\n        ...currentUser,\r\n        is_blocked: isBlocked\r\n      });\r\n\r\n      this.resourceList.data = currentData;\r\n    }\r\n  }\r\n\r\n  blockUser(user: User): void {\r\n    if (user.is_blocked) {\r\n      this.snackbar.open('User is already blocked', 'OK', { duration: SNACKBAR_DURATION });\r\n      return;\r\n    }\r\n\r\n    this.genericApi.post<User>(`users/${user.slug}/block`, {}).subscribe({\r\n      next: (res) => {\r\n        if (res && res.data) {\r\n          this.updateUserBlockStatus(user, true);\r\n          this.snackbar.open(\r\n            res.message ?? 'User blocked successfully!',\r\n            'OK',\r\n            { duration: SNACKBAR_DURATION }\r\n          );\r\n        }\r\n      },\r\n      error: (err) => {\r\n        this.snackbar.open(\r\n          'Error blocking user. Please try again.',\r\n          'OK',\r\n          { duration: SNACKBAR_DURATION }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  unblockUser(user: User): void {\r\n    if (!user.is_blocked) {\r\n      this.snackbar.open('User is not blocked', 'OK', { duration: SNACKBAR_DURATION });\r\n      return;\r\n    }\r\n\r\n    this.genericApi.post<User>(`users/${user.slug}/unblock`, {}).subscribe({\r\n      next: (res) => {\r\n        if (res && res.data) {\r\n          this.updateUserBlockStatus(user, false);\r\n          this.snackbar.open(\r\n            res.message ?? 'User unblocked successfully!',\r\n            'OK',\r\n            { duration: SNACKBAR_DURATION }\r\n          );\r\n        }\r\n      },\r\n      error: (err) => {\r\n        this.snackbar.open(\r\n          'Error unblocking user. Please try again.',\r\n          'OK',\r\n          { duration: SNACKBAR_DURATION }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleBlockUser(user: User): void {\r\n    const newBlockStatus = !user.is_blocked;\r\n\r\n    this.genericApi.post<User>(`users/${user.slug}/toggle-block`, {}).subscribe({\r\n      next: (res) => {\r\n        if (res && res.data) {\r\n          this.updateUserBlockStatus(user, newBlockStatus);\r\n          this.snackbar.open(\r\n            res.message ?? 'User status updated successfully!',\r\n            'OK',\r\n            { duration: SNACKBAR_DURATION }\r\n          );\r\n        }\r\n      },\r\n      error: (err) => {\r\n        this.snackbar.open(\r\n          'Error updating user status. Please try again.',\r\n          'OK',\r\n          { duration: SNACKBAR_DURATION }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  confirmToggleBlockUser(user: User): void {\r\n    this.dialog\r\n      .open(ConfirmBlockDialogComponent, {\r\n        data: { isBlocked: user.is_blocked },\r\n        width: '400px',\r\n        disableClose: true \r\n      })\r\n      .afterClosed()\r\n      .subscribe((confirmed) => {\r\n        if (confirmed) {\r\n          this.toggleBlockUser(user); // ta logique actuelle\r\n        } else {\r\n          // Si l'utilisateur annule, on remet le toggle dans son état initial\r\n          const index = this.resourceList.data.findIndex(\r\n            (u) => u.slug === user.slug\r\n          );\r\n          if (index !== -1) {\r\n            this.resourceList.data[index].is_blocked = user.is_blocked;\r\n            this.resourceList.data = [...this.resourceList.data];\r\n          }\r\n        }\r\n      });\r\n  }\r\n}\r\n","<!-- On passe la configuration et le template pour le statut -->\n<vex-generic-resource-list\n  [type]=\"type\"\n  [formlyFields]=\"formlyFields\"\n  [dataService]=\"dataService\"\n  (action)=\"handleAction($event)\">\n</vex-generic-resource-list>"],"names":["MatButtonModule","MAT_DIALOG_DATA","MatDialogModule","MatDividerModule","MatIconModule","TranslationModule","ConfirmBlockDialogComponent","constructor","dialogRef","data","i0","ɵɵdirectiveInject","i1","MatDialogRef","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ConfirmBlockDialogComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","isBlocked","ɵɵpipeBind1","ɵɵproperty","MatDialogClose","MatDialogTitle","MatDialogActions","MatDialogContent","i2","TranslatePipe","i3","MatDivider","i4","MatIcon","i5","MatButton","styles","NgIf","ɵɵelementContainerStart","ɵɵelementContainerEnd","ctx_r0","getSingleUserName","ctx_r1","DeleteElementComponent","defaults","send","close","isSingleUser","Array","isArray","user","first_name","last_name","users","length","DeleteElementComponent_Template","ɵɵtemplate","DeleteElementComponent_ng_container_8_Template","DeleteElementComponent_ng_template_9_Template","ɵɵtemplateRefExtractor","ɵɵlistener","DeleteElementComponent_Template_button_click_14_listener","_r2","FormGroup","MatButtonToggleModule","MatInputModule","MatTooltipModule","FormlyModule","FormlyMatCheckboxModule","FormlyMatInputModule","FormlyMatSelectModule","getUserFormlyFields","MatProgressSpinnerModule","SharedModule","TranslateModule","FormlyMatDatepickerModule","MatMomentDateModule","forkJoin","imageUrl","ɵɵsanitizeUrl","ɵɵtextInterpolate2","model","UserCreateUpdateComponent_button_13_Template_button_click_0_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","save","ctx_r3","form","invalid","mode","UserCreateUpdateComponent","translate","formUtils","languageService","genericApi","imageView","_cachedImageUrl","_lastPhotoRef","tempImageUrl","email","phone","roles","available_countries","birthday","permissions","photo","is_blocked","otp_enabled","fields","rolesMap","Map","permissionsMap","ngOnInit","init","getAll","subscribe","configureSelectFields","updateMode","clearImageCache","console","error","mymode","myuser","userRoles","userPermissions","selectedRoles","filter","role","some","userRole","name","selectedPermissions","parseDate","String","getLocalImagePath","File","URL","revokeObjectURL","createObjectURL","startsWith","createCustomer","updateCustomer","tempUrl","defaultsUser","slug","cancel","isCreateMode","isUpdateMode","TranslateService","FormUtilsService","LanguageService","GenericApiService","UserCreateUpdateComponent_Template","UserCreateUpdateComponent_div_2_Template","UserCreateUpdateComponent_h2_3_Template","UserCreateUpdateComponent_h2_4_Template","UserCreateUpdateComponent_button_13_Template","i6","MatIconButton","i7","i8","FormlyForm","i9","i10","default","MatMenuModule","ctx_r2","getRolesNames","getPermissionsNames","UserShowComponent","map","display_name","join","permission","UserShowComponent_Template","UserShowComponent_div_4_Template","UserShowComponent_h1_6_Template","UserShowComponent_ng_container_10_Template","UserShowComponent_ng_container_11_Template","UserShowComponent_ng_container_14_Template","UserShowComponent_ng_container_15_Template","CommonModule","GenericResourceListComponent","User","userFormlyFields","Utils","SNACKBAR_DURATION","UsersComponent","dialog","snackbar","formDataBuilder","websocketService","type","formlyFields","dataService","createDataService","handleAction","event","action","openCreateUserDialog","row","openUpdateUserDialog","openDeleteUserDialog","openShowUserDialog","rows","openDeleteAllUsersDialog","blockUser","unblockUser","confirmToggleBlockUser","dialogData","open","width","afterClosed","result","formData","createUserFormData","create","res","message","duration","resourceList","refresh","updatedCustomer","userIndex","findIndex","u","originalUser","optimisticUser","formatDateForLaravel","currentData","update","next","updatedUserFromServer","err","confirmed","originalData","delete","slugs","deleteAll","updateUserBlockStatus","currentUser","post","toggleBlockUser","newBlockStatus","disableClose","index","MatDialog","MatSnackBar","FormDataBuilderService","WebsocketService","viewQuery","UsersComponent_Query","UsersComponent_Template_vex_generic_resource_list_action_0_listener","$event","encapsulation"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}